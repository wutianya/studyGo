# 并发

Go语言可以用于创建并行程序,但这门语言在设计是考虑的更多是并发而不是并行

## 并发与并行的区别

- 并发(concurrency): 指的是两个或多个任务在同一时间段内启动、运行并结束,并且这些任务可能会互动.以并发的形势执行多个任务会同时存在,  
这跟顺序执行每次只会存在一个任务的情况正好相反.  
- 并行(parallelism): 多个任务将同时启动并执行. 并行通常会把一个大任务分割成多个更小的任务,然后通过同时执行这些小任务来提高性能.  
是一系列相互平行、不会重叠的处理过程.
- example:  
  - 并发: 超市两条结账通道,但是只有一个收银台  
  - 并行: 超市两条结账通道,每条都对应一个收银台  

## goroutine和通道

- goroutine使用关键字go
- 通道(channel): 是一种带有类型的值(type value), 它可以躺不同的goroutine互相通信
  - 无缓冲通道(同步通道) ch := make(chan int)
  - 有缓冲通道(异步、先进先出消息队列) ch := make(chan int, 10)
- 使用:
  - ch <- 1        // 将数字1放入通道ch里面
  - i := <- ch     // 把通道ch里面的值移除,并将该值赋值给变量i  
- 双向通道: 默认情况下通道将以双向的形势运作,即用户可以把值放入通道,也可以从通道取出值
- 定向通道: 限制问只能发生操作或者只能接收操作
  - 发生操作: ch := make(chan <- string)
  - 接收操作: ch := make(<- chan string)
- 从多个通道中选择
  - select, 它允许用户从多个通道中选择一个通道来执行接收或发生操作
  